---
title: "Hacking the Juice Shop"
excerpt: A collection of walkthroughs of different hacking challenges surrounding the OWASP Juice Shop 
date: 2026-01-02
---

This is work in progress. The write-ups are currently in no particular order.


## 1 Accessing Sensitive Documents

One of the first things I did while doing reconnaissance on the Juice Shop was to run `dirbuster`, in hopes of finding subdirectories that are easily missed but might still contain useful information. I simply ran

```console
dirb http://localhost:3000/ -o dirb_output
```

The output showed several results, namely 

```shell
---- Scanning URL: http://127.0.0.1:3000/ ----
+ http://127.0.0.1:3000/assets (CODE:301|SIZE:156)
+ http://127.0.0.1:3000/ftp (CODE:200|SIZE:11298)
+ http://127.0.0.1:3000/profile (CODE:500|SIZE:1051)
+ http://127.0.0.1:3000/promotion (CODE:200|SIZE:6586)
+ http://127.0.0.1:3000/redirect (CODE:500|SIZE:3339)
+ http://127.0.0.1:3000/robots.txt (CODE:200|SIZE:28)
+ http://127.0.0.1:3000/video (CODE:200|SIZE:10075518)
+ http://127.0.0.1:3000/Video (CODE:200|SIZE:10075518)
```

The most interesting information is contained in `/ftp`, as can be seen in this screenshot:

<img width="1073" height="296" alt="Screenshot from 2025-12-11 18-29-18" src="https://github.com/user-attachments/assets/8ac3b87c-763a-4976-a30e-9d17048f2f5d" />


## 2 Pulling Sensitive User-Data as a Low-Privilege User

At the end of this challenge we will have pulled an exhaustive list of usernames and e-mail addresses. While this may not be quite as devastating as a specific SQL-injection payload with which one can additionally obtain all hashed passwords, we're still able to read data which should be out of reach.

To begin with, I logged in as user Jim with `jim@juice-sh.op:ncc-1701`. I obtained these credentials through the earlier challenges "Login Jim" and "Reset Jim's Password" using SQL injections, weak password reset functionality and OSINT. To confirm that Jim only has customer privileges and no admin rights, we navigate to `http://localhost:3000/#/administration` and find that we cannot access the page:

<div class="flex justify-center items-center">
  <img
    src="https://github.com/user-attachments/assets/84d4fce8-968f-4db5-8e79-2ae4b42940c5"
    alt="image"
    class="clickable-img h-auto w-auto max-w-full max-h-[232px] object-contain"
  />
</div>

While investigating XSS vulnerabiities in another challenge, I noticed that there exists an API endpoint called `/api/`, which popped up in Burp Suite as a GET request of the form `GET /api/Quantitys/ HTTP/1.1` when entering a payload into the search bar of the Juice Shop. 

The endpoint `/api/Quantitys/` itself contained nothing too serious, but the lucky idea I had was to investigate the endpoint `/api/users/`, since I thought there might be a good chance that this exists. So as this this low-privilege user, I proceeded as follows: First, it seems like the endpoint existed, since I only got a 401 error saying that no authorization header was found, but not a 500 error code for instance.

<div class="flex justify-center items-center">
  <img
    src="https://github.com/user-attachments/assets/3c2766bd-1584-472b-b0ab-948aa3882fae"
    alt="image"
    class="clickable-img h-auto w-auto max-w-full max-h-[232px] object-contain"
  />
</div>
<br>

I remembered from the endpoint `/api/Quantitys/` that the request header contained an authorization token, as can be seen here in Burp:

<div class="flex justify-center items-center">
  <img
    src="https://github.com/user-attachments/assets/dfece9b4-035d-4b7b-b6e7-0d96d798f825"
    alt="image"
    class="clickable-img h-auto w-auto max-w-full max-h-[232px] object-contain"
  />
</div>
<br>

So the idea was to simply copy the token and paste it into the request header for the endpoint `/api/users`. After sending the request to the repeater in Burp and adding the token, we indeed get a 200 response and we can view a list of all users with e-mails and additional information:

<div class="flex justify-center items-center">
  <img
    src="https://github.com/user-attachments/assets/0a1a3c35-7fe6-48ad-abde-35626eafb57f"
    alt="image"
    class="clickable-img h-auto w-auto max-w-full max-h-[232px] object-contain"
  />
</div>
<br>

For completeness, here are the last few entries of this list:

```
{
  "id": 20,
  "username": "SmilinStan",
  "email": "stan@juice-sh.op",
  "role": "deluxe",
  "deluxeToken": "8f70e0f4b05685efff1ab979e8f5d7e39850369309bb206c2ad3f7d51a1f4e39",
  "lastLoginIp": "",
  "profileImage": "assets/public/images/uploads/20.jpg",
  "isActive": true,
  "createdAt": "2025-12-14T14:06:03.182Z",
  "updatedAt": "2025-12-14T14:06:03.182Z",
  "deletedAt": null
},
{
  "id": 21,
  "username": "evmrox",
  "email": "ethereum@juice-sh.op",
  "role": "deluxe",
  "deluxeToken": "b49b30b294d8c76f5a34fc243b9b9cccb057b3f675b07a5782276a547957f8ff",
  "lastLoginIp": "",
  "profileImage": "assets/public/images/uploads/default.svg",
  "isActive": true,
  "createdAt": "2025-12-14T14:06:03.183Z",
  "updatedAt": "2025-12-14T14:06:03.183Z",
  "deletedAt": null
},
{
  "id": 22,
  "username": "",
  "email": "testing@juice-sh.op",
  "role": "admin",
  "deluxeToken": "",
  "lastLoginIp": "",
  "profileImage": "assets/public/images/uploads/defaultAdmin.png",
  "isActive": true,
  "createdAt": "2025-12-14T14:06:03.183Z",
  "updatedAt": "2025-12-14T14:06:03.183Z",
  "deletedAt": null
}
```

As mentioned above, this information disclosure may not be catastrophic right away. However, it does give us a large attack surface with which we can potentially do more damage in future challenges.

For instance, we can now try to brute-force passwords more easily, since we already have e-mails which are used for logins. Moreover, we see all users with admin privileges, so we might want to focus on these accounts in particular. Lastly, we could now try extensive phishing-campaigns and we can try to exploit the `deluxeToken` that comes with some of the users.

As a last note, I believe this technically does not solve any official Juice Shop challenge. At least I never triggered any success-banner that you usually see when solving a task.
